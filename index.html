<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Väder och Soluppgång/Solnedgång</title>
</head>
<body>
    <h1><span id="location"></span></h1>

    <!-- Plats för att visa väderleksrapport -->
    <div id="weather-info">
        <h2>Väderleksrapport</h2>
        <p id="weather-text"></p>
    </div>

    <!-- Plats för att visa soluppgång/solnedgång -->
    <div id="sunrise-sunset-info">
        <h2>Soluppgång/Solnedgång</h2>
        <p id="sunrise"></p>
        <p id="sunset"></p>
    </div>

    <!-- Skript för att hämta och visa väderleksrapport och soluppgång/solnedgång -->
    <script>
        // Funktion för att hämta platsnamn baserat på användarens position
        function getLocationName(latitude, longitude) {
            var locationAPIURL = 'https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=' + latitude + '&longitude=' + longitude + '&localityLanguage=sv';

            fetch(locationAPIURL)
                .then(function(response) {
                    return response.json();
                })
                .then(function(data) {
                    var locationName = data.locality; // Hämtar platsnamnet från API-responsen
                    document.getElementById('location').textContent = locationName;
                })
                .catch(function(error) {
                    console.log('Error fetching location data:', error);
                    document.getElementById('location').textContent = 'Platsinformation kunde inte hämtas.';
                });
        }

        // Övrig kod för att hämta väder och soluppgång/solnedgång här...

        // Hämta användarens aktuella position
        navigator.geolocation.getCurrentPosition(function(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;

            // Hämta platsnamn och uppdatera rubriken
            getLocationName(latitude, longitude);

            // Hämta väderleksrapport och soluppgång/solnedgångstider baserat på användarens position
            getWeather(latitude, longitude);
            getSunriseSunset(latitude, longitude);
        });
    </script>
</body>
</html>
